# Actime - 用户真实活跃时间统计系统

## 项目概述
本项目旨在开发一个跨平台（Windows + Linux）的应用程序，用于准确统计用户在前台软件上的真实活跃时间，而非系统运行时。

## 核心功能
1. 检测前台活动的应用程序（进程名）
2. 监控5分钟内的键盘和鼠标输入事件
3. 记录活跃时间和键鼠事件次数
4. 数据存储到本地SQLite数据库
5. 支持导出CSV/JSON格式数据
6. 可选的Prometheus指标暴露
7. 支持自启动和持续监控

## 技术栈选择
- 语言：Rust（跨平台，性能优异，适合系统级监控）
- 框架：tauri（用于GUI，如果需要）或纯命令行工具
- 数据库：rusqlite（SQLite的Rust绑定）
- 系统监控：使用平台特定API（Windows API / X11 for Linux）

## 架构设计
- 监控模块：负责检测前台进程和输入事件
- 计时模块：实现5分钟活动窗口逻辑
- 存储模块：管理SQLite数据库操作
- 导出模块：提供CSV/JSON导出功能
- 指标模块：可选的Prometheus指标暴露

## 防错机制
- 休眠/唤醒状态检测，防止重复计时
- 崩溃恢复机制
- 异常处理和日志记录